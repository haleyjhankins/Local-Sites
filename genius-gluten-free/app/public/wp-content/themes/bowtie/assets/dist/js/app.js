"use strict";function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function getDistance(){var e=h.offsetTop+100;return e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();smoothScroll.init({offset:100});var h=document.querySelector("header.main"),stuck=!1,stickPoint=getDistance();window.onscroll=function(e){var t=getDistance()-window.pageYOffset,o=window.pageYOffset;t<=0&&!stuck?(h.classList.remove("unstuck"),h.classList.add("sticky"),stuck=!0):stuck&&o<=stickPoint&&(h.classList.remove("sticky"),h.classList.add("unsticky"),setTimeout(function(){h.classList.remove("unsticky"),h.classList.add("unstuck")},0),stuck=!1)};var menu=document.querySelector("[data-menu]");menu&&menu.addEventListener("click",function(e){e.preventDefault(),document.body.classList.toggle("menu-open")});for(var responsiveNav=document.querySelectorAll("nav.responsive .menu-item a"),_loop=function(e){responsiveNav[e].addEventListener("click",function(t){t.preventDefault();var o=responsiveNav[e].href.substr(responsiveNav[e].href.indexOf("#")+1);o="#"+o,console.log(o);var n=document.querySelector(o);console.log(n),n&&(document.body.classList.remove("menu-open"),setTimeout(function(){smoothScroll.animateScroll(n,null,{offset:100})},500))})},i=0;i<responsiveNav.length;i++)_loop(i);for(var Modal=function(){function e(t){var o=this;if(_classCallCheck(this,e),this.active=!1,this._toggle=t,this.targetId=t.getAttribute("data-target"),this._target=document.querySelector(this.targetId),this.overlay=null,this._generateOverlay(),this._target){var n=this._target.querySelector("[data-close]");n&&n.addEventListener("click",function(e){e.preventDefault(),o.close()})}}return _createClass(e,[{key:"open",value:function(){var e=this;this.openOverlay(),this._target?(this.active=!0,document.body.classList.add("modal-open"),this._target.classList.add("entering"),setTimeout(function(){e._target.classList.add("active"),e._target.classList.remove("entering")},250)):console.error("Target not set on toggle",this._toggle)}},{key:"close",value:function(){var e=this;this.closeOverlay(),this.active=!1,document.body.classList.remove("modal-open"),this._target.classList.add("leaving"),setTimeout(function(){e._target.classList.remove("active"),e._target.classList.remove("leaving")},500)}},{key:"toggle",value:function(){this.target.classList.has("active")?this.close():this.open()}},{key:"_generateOverlay",value:function(){if(!this._overlay){var e=document.querySelector(".modal--overlay");return e?this._overlay=e:(e=document.createElement("div"),e.classList.add("modal--overlay"),document.body.appendChild(e),this._overlay=e),e}}},{key:"openOverlay",value:function(){var e=this;this._overlay&&(this.overlayActive=!0,document.body.classList.add("overlay-open"),this._overlay.classList.add("entering"),setTimeout(function(){e._overlay.classList.add("active"),e._overlay.classList.remove("entering")},250))}},{key:"closeOverlay",value:function(){var e=this;this._overlay&&(this.overlayActive=!1,document.body.classList.remove("overlay-open"),this._overlay.classList.add("leaving"),setTimeout(function(){e._overlay.classList.remove("active","leaving")},250))}},{key:"isOpen",value:function(){return this.active}}]),e}(),modalLinks=document.querySelectorAll(".open-modal"),_loop2=function(e){var t=new Modal(modalLinks[e]);modalLinks[e].addEventListener("click",function(e){e.preventDefault(),t.open()})},i=0;i<modalLinks.length;i++)_loop2(i);var LocationFinder=function(){function e(t,o){if(_classCallCheck(this,e),!t)return console.error("Wrapper element for locationFinder is required");if(this.wrapperElement=t,this.mapElement=t.querySelector(".locationFinder--map"),this.listElement=t.querySelector(".locationFinder--locations-list"),this.loaderElement=t.querySelector(".locationFinder--loader"),this.errorElement=t.querySelector(".locationFinder--locations-error"),this.retryElement=t.querySelector("[data-retry]"),!this.mapElement)return console.error("Map element for locationFinder could not be found");var n=t.querySelector("[data-template]");this.template=n.cloneNode(!0),n.remove(),this.options={radius:50,zoom:12,scrollWheel:!1,streetViewControl:!1,mapTypeControl:!1,center:{lat:0,lng:0},pinPath:"/assets/images/",pinSize:[20,32],errors:{geolocationDisabled:"Could not get your current location. Please enter your address, city, or zip.",geolocationUnsupported:"Could not get your current location. Please enter your address, city, or zip."}},Object.assign(this.options,o),this.position={},this.locations=[],this.closestLocations=[],this.markers=[],this.loading=!0}return _createClass(e,[{key:"init",value:function(){var e=this;this.isLoading(!0),google.load("maps","3",{other_params:"libraries=geometry&key=AIzaSyBQAE-6I6Hcv6JsyjVHu6lcI7yK47-FyOw"}),google.setOnLoadCallback(function(){e.map=new google.maps.Map(e.mapElement,{center:e.options.center,scrollwheel:e.options.scrollWheel,streetViewControl:e.options.streetViewControl,mapTypeControl:e.options.mapTypeControl,zoom:e.options.zoom}),e.getLocations().done(function(t){e.locations=t,console.log("all locations",t),e.getUserLocation(function(t,o){return t?(e.isLoading(!1),e.setError(t),!1):(e.setPosition(o),void e.getClosest(o,function(t,o){t||(e.closestLocations=o),e.addLocations(o),e.isLoading(!1)}))})}).fail(function(t){console.log(t),e.isLoading(!1)})});var t=this.wrapperElement.querySelector(".locationFinder--zip");t.addEventListener("keypress",function(t){e.searchOnEnter(t)});var o=document.querySelector(".quick-search--field");o.addEventListener("keypress",function(t){e.quickSearchOnEnter(t)});var n=document.querySelector(".quick-search--submit");n.addEventListener("click",function(t){t.preventDefault(),e.quickSearch()}),this.retryElement.addEventListener("click",function(o){o.preventDefault(),e.showEmpty(!1),t.value="",t.focus()});var i=this.wrapperElement.querySelector(".locationFinder--radius-label"),r=i.querySelector("span"),a=this.wrapperElement.querySelector(".locationFinder--radius-menu");i.addEventListener("click",function(e){e.preventDefault(),a.classList.toggle("active")});for(var s=a.querySelectorAll(".locationFinder--radius-item_link"),l=function(t){s[t].addEventListener("click",function(o){o.preventDefault(),a.classList.remove("active");var n=s[t].getAttribute("data-radius");e.setRadius(n),r.innerText=n+"mi",e.clearLocations(),e.clearMarkers(),e.getClosest(e.position,function(t,o){t||(e.closestLocations=o),e.addLocations(o)})})},c=0;c<s.length;c++)l(c)}},{key:"quickSearch",value:function(){var e=document.querySelector(".quick-search--field");this.search(e.value);var t=this.wrapperElement.querySelector(".locationFinder--zip");t.value=e.value,smoothScroll.animateScroll(document.querySelector("#store-locator"),null,{offset:100})}},{key:"search",value:function(t){var o=this;return 0!=t.length&&(this.setError(!1),this.isLoading(!0),this.clearPosition(),this.clearLocations(),this.clearMarkers(),void e.codeAddress(t,function(e,t){return e?console.log(e):(o.setPosition(t),void o.getClosest(t,function(e,t){return e?done(e):(t.length>0?(o.closestLocations=t,o.addLocations(t),o.showEmpty(!1)):o.showEmpty(!0),void o.isLoading(!1))}))}))}},{key:"searchOnEnter",value:function(e){var t=e||window.event,o=t.keyCode||t.which||t.charCode;if(13==o)return t.cancelBubble=!0,t.returnValue=!1,t.stopPropagation&&(t.stopPropagation(),t.preventDefault()),this.search(e.target.value),e.target.blur(),!1}},{key:"quickSearchOnEnter",value:function(e){var t=e||window.event,o=t.keyCode||t.which||t.charCode;if(13==o)return t.cancelBubble=!0,t.returnValue=!1,t.stopPropagation&&(t.stopPropagation(),t.preventDefault()),this.quickSearch(e.target.value),e.target.blur(),!1}},{key:"getClosest",value:function(t,o){if(!t)return!1;for(var n=[],i=0;i<this.locations.length;i++)if(this.locations[i].acf.latitude&&this.locations[i].acf.latitude){var r=e.computeDistance(t,this.locations[i].acf);r<this.options.radius&&n.push({location:this.locations[i],distance:r})}return n.sort(function(e,t){return parseFloat(e.distance)-parseFloat(t.distance)}),o(null,n)}},{key:"getLocations",value:function(){return jQuery.get("/wp-json/wp/v2/location?per_page=100")}},{key:"addLocation",value:function(t){var o=this.template.cloneNode(!0);o.setAttribute("data-label",t.label);var n=o.querySelector('[data-field="label"]');n&&(n.innerText=t.label);var i=o.querySelector('[data-field="title"]');i&&(i.innerText=t.location.title.rendered);var r=o.querySelector('[data-field="distance"]');r&&(r.innerText=t.distance.toFixed(1)+" miles");var a=o.querySelector('[data-field="address"]');a&&(a.innerText=t.location.acf.address);var s=o.querySelector('[data-field="phone_number"]');s&&(s.innerText=t.location.acf.phone_number);var l=o.querySelector('[data-href="phone_number"]');l&&(l.href="tel:"+t.location.acf.phone_number);var c=o.querySelector('[data-field="hours"]');if(c&&t.location.acf.hours.length>0){var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=u[(new Date).getDay()],f=e.getOne(d,t.location.acf.hours,"day");f||(f=e.getOne("Everyday",t.location.acf.hours,"day")),f?c.innerText="Open until: "+f.closed:c.innerHTML="&nbsp;"}return this.listElement.appendChild(o)}},{key:"addLocations",value:function(e){for(var t=this,o=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n=function(n){e[n].label=o[n].toLowerCase();var i=t.addMarker({lat:Number(e[n].location.acf.latitude),lng:Number(e[n].location.acf.longitude)},t.options.pinPath+"pin-"+e[n].label+".png");i.addListener("click",function(){var o=t.listElement.querySelector(".highlighted");o&&o.classList.remove("highlighted");var i=t.listElement.querySelector('[data-label="'+e[n].label+'"]');i.classList.add("highlighted"),console.log(i.offsetTop-t.listElement.offsetTop,t.listElement.scrollTop),t.listElement.scrollTop=i.offsetTop-t.listElement.offsetTop,t.map.setCenter({lat:Number(e[n].location.acf.latitude),lng:Number(e[n].location.acf.longitude)})});var r=t.addLocation(e[n]);r.addEventListener("click",function(){t.map.setCenter({lat:Number(e[n].location.acf.latitude),lng:Number(e[n].location.acf.longitude)});var o=t.listElement.querySelector(".highlighted");o&&o.classList.remove("highlighted"),r.classList.add("highlighted")})},i=0;i<e.length;i++)n(i)}},{key:"clearLocations",value:function(){this.listElement.innerHTML=""}},{key:"addMarker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=null;t&&(o={url:t,scaledSize:new google.maps.Size(this.options.pinSize[0],this.options.pinSize[1])});var n=new google.maps.Marker({position:e,icon:o});return this.markers.push(n),n.setMap(this.map),n}},{key:"removeMarker",value:function(e){this.markers[e].setMap(null),this.markers.splice(e,1)}},{key:"clearMarkers",value:function(){for(var e=0;e<this.markers.length;e++)this.markers[e].setMap(null);this.markers=[]}},{key:"clearPosition",value:function(){this.position&&(this.position=null),this.positionMarker&&(this.positionMarker.setMap(null),this.positionMarker=null)}},{key:"setPosition",value:function(e){this.position=e;var t=new google.maps.Marker({position:e});this.positionMarker=t,t.setMap(this.map),this.map.setCenter(e)}},{key:"setRadius",value:function(e){return e||(e=50),this.options.radius=e}},{key:"setError",value:function(e){1==e||"string"==typeof e?(this.wrapperElement.classList.add("locationFinder--error"),"string"==typeof e&&(this.errorElement.innerHTML=e)):0==e&&(this.wrapperElement.classList.remove("locationFinder--error"),this.errorElement.innerHTML="")}},{key:"showEmpty",value:function(e){e===!0?this.wrapperElement.classList.add("locationFinder--empty"):e===!1&&this.wrapperElement.classList.remove("locationFinder--empty")}},{key:"isLoading",value:function(e){return e===!0?(this.loading=e,this.loaderElement.classList.add("active")):e===!1&&(this.loading=e,this.loaderElement.classList.remove("active")),this.loading}},{key:"getUserLocation",value:function(e){var t=this;if(!navigator.geolocation)return console.log("Browser does not support geolocation"),e(this.options.errors.geolocationUnsupported);navigator.geolocation.getCurrentPosition(function(t){var o={lat:t.coords.latitude,lng:t.coords.longitude};return e(null,o)},function(){return console.log("Could not get current position"),e(t.options.errors.geolocationDisabled)})}}],[{key:"getOne",value:function(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",i=e.findOne(o,_defineProperty({},n,t));return i.length>0&&i[0]}},{key:"findOne",value:function(e,t,o){return e.filter(function(e){return Object.keys(t).every(function(o){return e[o]==t[o]})})}},{key:"codeAddress",value:function(e,t){var o=new google.maps.Geocoder;o.geocode({address:e},function(e,o){if("OK"==o){var n=e[0].geometry.location;return t(null,n)}return t("Geocode failed: "+o)})}},{key:"kmToMiles",value:function(e){return.621371*e}},{key:"roundNumber",value:function(e){return 100*Math.ceil(e/100)}},{key:"computeDistance",value:function(e,t){var o="function"==typeof e.lat?e.lat():e.lat,n="function"==typeof e.lng?e.lng():e.lng,i=Math.PI*o/180,r=Math.PI*Number(t.latitude)/180,a=n-Number(t.longitude),s=Math.PI*a/180,l=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos(s);return l=Math.acos(l),l=180*l/Math.PI,l=60*l*1.1515}}]),e}(),finder=new LocationFinder(document.querySelector("#locationFinder"),{center:{lat:30.266653,lng:-97.743306},pinPath:"/wp-content/themes/bowtie/assets/img/",pinSize:[43,58],errors:{geolocationDisabled:"Could not get your current location. Please enter your address, city, or zip to find Genius bread near you.",geolocationUnsupported:"Could not get your current location. Please enter your address, city, or zip to find Genius bread near you."}}).init();!function(e){if("object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e;return function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){var o=e[a][1][t];return i(o?o:t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,o){var n=e("matches-selector");t.exports=function(e,t,o){for(var i=o?e:e.parentNode;i&&i!==document;){if(n(i,t))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(e,t,o){function n(e,t,o,n,r){var a=i.apply(this,arguments);return e.addEventListener(o,a,r),{destroy:function(){e.removeEventListener(o,a,r)}}}function i(e,t,o,n){return function(o){o.delegateTarget=r(o.target,t,!0),o.delegateTarget&&n.call(e,o)}}var r=e("closest");t.exports=n},{closest:1}],3:[function(e,t,o){o.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},o.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||o.node(e[0]))},o.string=function(e){return"string"==typeof e||e instanceof String},o.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],4:[function(e,t,o){function n(e,t,o){if(!e&&!t&&!o)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(o))throw new TypeError("Third argument must be a Function");if(s.node(e))return i(e,t,o);if(s.nodeList(e))return r(e,t,o);if(s.string(e))return a(e,t,o);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,o){return e.addEventListener(t,o),{destroy:function(){e.removeEventListener(t,o)}}}function r(e,t,o){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,o)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,o)})}}}function a(e,t,o){return l(document.body,e,t,o)}var s=e("./is"),l=e("delegate");t.exports=n},{"./is":3,delegate:2}],5:[function(e,t,o){function n(e,t){if(r)return r.call(e,t);for(var o=e.parentNode.querySelectorAll(t),n=0;n<o.length;++n)if(o[n]==e)return!0;return!1}var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;t.exports=n},{}],6:[function(e,t,o){function n(e){var t;if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),n=document.createRange();n.selectNodeContents(e),o.removeAllRanges(),o.addRange(n),t=o.toString()}return t}t.exports=n},{}],7:[function(e,t,o){function n(){}n.prototype={on:function(e,t,o){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:o}),this},once:function(e,t,o){function n(){i.off(e,n),t.apply(o,arguments)}var i=this;return n._=t,this.on(e,n,o)},emit:function(e){var t=[].slice.call(arguments,1),o=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=o.length;for(n;i>n;n++)o[n].fn.apply(o[n].ctx,t);return this},off:function(e,t){var o=this.e||(this.e={}),n=o[e],i=[];if(n&&t)for(var r=0,a=n.length;a>r;r++)n[r].fn!==t&&n[r].fn._!==t&&i.push(n[r]);return i.length?o[e]=i:delete o[e],this}},t.exports=n},{}],8:[function(t,o,n){!function(i,r){if("function"==typeof e&&e.amd)e(["module","select"],r);else if("undefined"!=typeof n)r(o,t("select"));else{var a={exports:{}};r(a,i.select),i.clipboardAction=a.exports}}(this,function(e,t){function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=o(t),r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":_typeof(e)},a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},e.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},e.prototype.selectFake=function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i["default"])(this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=(0,i["default"])(this.target),this.copyText()},e.prototype.copyText=function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},e.prototype.handleResult=function(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},a(e,[{key:"action",set:function(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s})},{select:6}],9:[function(t,o,n){!function(i,r){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof n)r(o,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var a={exports:{}};r(a,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=a.exports}}(this,function(e,t,o,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=("undefined"==typeof t?"undefined":_typeof(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":_typeof(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var o="data-clipboard-"+e;if(t.hasAttribute(o))return t.getAttribute(o)}var c=i(t),u=i(o),d=i(n),f=function(e){function t(o,n){r(this,t);var i=a(this,e.call(this));return i.resolveOptions(n),i.listenClick(o),i}return s(t,e),t.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},t.prototype.listenClick=function(e){var t=this;this.listener=(0,d["default"])(e,"click",function(e){return t.onClick(e)})},t.prototype.onClick=function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c["default"]({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(e){return l("action",e)},t.prototype.defaultTarget=function(e){var t=l("target",e);return t?document.querySelector(t):void 0},t.prototype.defaultText=function(e){return l("text",e)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(u["default"]);e.exports=f})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),new Clipboard(".clipboard");